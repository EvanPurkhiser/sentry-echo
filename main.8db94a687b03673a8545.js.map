{"version":3,"sources":["webpack:///main.8db94a687b03673a8545.js","webpack:///./src/index.scss","webpack:///./src/App.js","webpack:///./src/how-it-works.svg","webpack:///./src/index.js","webpack:///./src/index.scss?4446"],"names":["webpackJsonp","./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss","module","exports","__webpack_require__","undefined","push","i","./src/App.js","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","arguments","length","source","key","hasOwnProperty","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","Array","isArray","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_tone","_tone2","_classnames","_classnames2","_animejs","_animejs2","_reactAnimatedNumber","_reactAnimatedNumber2","_lodash","_lodash2","_howItWorks","_howItWorks2","platforms","Transport","start","bpm","window","Tone","instrumentGroups","scale","defaultGrouping","flatten","synthBank","javascript","PluckSynth","toMaster","python","node","php","go","MembraneSynth","csharp","ruby","java","FMSynth","elixir","c","other","groupConfigs","countDivision","noteLength","quantizeTo","offset","startMuted","SeqeuenceCanvas","_Component","this","getPrototypeOf","apply","_this2","widthPerBar","Time","div","sequenceSize","mult","width","toSeconds","totalBars","Math","floor","times","createElement","x1","x2","y1","y2","height","note","paddingY","rawWidth","clone","max","x","relTime","y","scaleIndex","time","_this3","playlist","map","n","makeNote","className","makeBarGrid","makePlaylist","Component","PlatformSequence","_Component2","_this4","state","isMuted","playheadShown","timeline","playhead","playheadAnim","noteIndicator","playingNotes","mute","bind","setPlayhead","processEvents","noteStart","noteEnd","updatePlaylist","setState","muted","synth","volume","Loop","_this5","entries","eventBuffer","platform","sort","earliestTime","e","quantize","filter","groups","values","groupBy","add","random","curr","last","dir","abs","forEach","instrumentIndex","triggerAttackRelease","Draw","schedule","_","classList","remove","style","transform","targets","duration","toMilliseconds","translateX","clientWidth","easing","_this6","onClick","ref","shown","defaultProps","HelpPopover","_Component3","_this7","opened","_this8","document","addEventListener","popover","contains","_this9","href","src","heading","App","_Component4","_this10","globalSequenceSize","ordering","cloneDeep","bpmDivider","currentBpm","Number","eventsPerSecond","fromPairs","p","eventsPerSequence","starting","recomputeBpm","_this11","eventStream","onmessage","scheduleOnce","t","oneTickBack","sub","message","_JSON$parse","JSON","parse","data","_JSON$parse2","ts","playing","_this12","eventCount","_this13","sequencerList","items","j","readyClass","ready","loader","toFixed","bpmIndicator","formatValue","id","./src/how-it-works.svg","./src/index.js","_reactDom","_reactDom2","_App","_App2","stream","EventSource","render","getElementById","./src/index.scss","content","options","hmr","update","locals","hot","accept","newContent","dispose"],"mappings":"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","file":"main.8db94a687b03673a8545.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"./node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\nexports.push([module.i, \"@import url(https://fonts.googleapis.com/css?family=Raleway:100,200,300);\", \"\"]);\nexports.i(__webpack_require__(\"./node_modules/css-loader/index.js!./node_modules/platformicons/platformicons/platformicons.css\"), \"\");\nexports.i(__webpack_require__(\"./node_modules/css-loader/index.js!./node_modules/typeface-rubik/index.css\"), \"\");\n\n// module\nexports.push([module.i, \".platform-icon:before{height:50px;width:50px;font-family:platformicons;color:#fff;font-size:32px;-webkit-font-smoothing:antialiased;display:block;height:100%;border-radius:3px 0 0 3px;text-align:center;line-height:48px}.c:before{content:\\\"C\\\";font-family:Raleway;font-weight:300;background:#a9b9cb;line-height:50px}.cocoa:before{content:\\\"\\\\E60A\\\";background:red}.csharp:before{content:\\\"\\\\E60F\\\";background:#0090ff}.elixir:before{content:\\\"\\\\E903\\\";background:#4e3fb4}.go:before{content:\\\"\\\\E606\\\";background:#fff;color:#000}.java:before{content:\\\"\\\\E608\\\";background:#ff8a00}.javascript:before{content:\\\"\\\\E600\\\";background:#ffd906}.node:before{content:\\\"\\\\E609\\\";background:#8ac655}.objc:before{content:\\\"\\\\E60E\\\";background:#02bfd0}.php:before{content:\\\"\\\\E601\\\";background:#4f5b93}.python:before{content:\\\"\\\\E602\\\";background:#3776ab}.ruby:before{content:\\\"\\\\E604\\\";background:#d00202}.perl:before{content:\\\"\\\\E901\\\";background:#9d95a4}.other:before{content:\\\"\\\\E60A\\\";background:#afafaf}#root,body,html{height:100%}#root,#sentry_echo,body{min-height:100%;margin:0;padding:0}body{background:#15121c;color:#fff;font-family:Rubik;font-weight:300}a{color:#6c5fc7;text-decoration:none;transition:color .3s}a:hover{color:#423b87}#sentry_echo,header{display:flex;flex-direction:column}header{flex-grow:0;padding:20px 0;text-align:center}header p{padding-top:25px;width:570px;line-height:1.9em;margin:0 auto;font-size:.9rem;color:#fff;animation:flavorText 10s linear 1 forwards}@keyframes flavorText{50%{opacity:1}to{opacity:.25}}.logo{display:flex;font-family:Raleway;margin:0 auto}.logo h1:first-child{width:200px;height:70px;background:url(\\\"https://sentry-brand.storage.googleapis.com/sentry-logo-white.svg\\\") no-repeat;text-indent:-9999px}.logo h1:last-child{font-weight:100;text-transform:lowercase;line-height:68px;position:relative}.main-app{position:relative;flex-grow:1;display:flex;justify-content:center;padding:80px 0}.sequencers{list-style:none;margin:0;padding:0}.sequencers li:not(:last-child){margin-bottom:8px}.platform{display:flex;width:800px;transition:opacity .5s,filter .5s}.platform.muted{opacity:.2}.instrument-heading{display:flex;text-transform:uppercase;font-size:.8rem;align-items:center;padding:4px 0;user-select:none}.instrument-heading:after{content:\\\"\\\";border-bottom:1px solid #333;flex-grow:1;margin-left:10px}.note-indicator{display:block;width:4px;background:#353042;margin-left:6px;transition:background .3s}.note-indicator.trigger{background:#f36e4f}@keyframes noteIndicatorTrigger{20%{background:#e03e2f}}.sequence-timeline{overflow:hidden;position:relative;margin-left:6px;background:hsla(0,0%,100%,.01);flex-grow:1}.sequence-timeline svg{display:block;shape-rendering:crispEdges}.sequence-timeline svg .bar-lines line{stroke-width:1px;stroke:#2a2140}.sequence-timeline svg .playlist rect{fill:#9990ab;opacity:0;transform:translateX(8px);animation:showNote .4s;animation-fill-mode:forwards}.sequence-timeline svg .playlist rect:first-child,.sequence-timeline svg .playlist rect:nth-child(2){animation-delay:90ms}.sequence-timeline svg .playlist rect:nth-child(3),.sequence-timeline svg .playlist rect:nth-child(4){animation-delay:.18s}.sequence-timeline svg .playlist rect:nth-child(5),.sequence-timeline svg .playlist rect:nth-child(6){animation-delay:.27s}.sequence-timeline svg .playlist rect:nth-child(7),.sequence-timeline svg .playlist rect:nth-child(8){animation-delay:.36s}.sequence-timeline svg .playlist rect:nth-child(9),.sequence-timeline svg .playlist rect:nth-child(10){animation-delay:.45s}.sequence-timeline svg .playlist rect:nth-child(11),.sequence-timeline svg .playlist rect:nth-child(12){animation-delay:.54s}.sequence-timeline svg .playlist rect:nth-child(13),.sequence-timeline svg .playlist rect:nth-child(14){animation-delay:.63s}.sequence-timeline svg .playlist rect:nth-child(15),.sequence-timeline svg .playlist rect:nth-child(16){animation-delay:.72s}.sequence-timeline svg .playlist rect:nth-child(17),.sequence-timeline svg .playlist rect:nth-child(18){animation-delay:.81s}.sequence-timeline svg .playlist rect:nth-child(19),.sequence-timeline svg .playlist rect:nth-child(20){animation-delay:.9s}.sequence-timeline svg .playlist rect:nth-child(21),.sequence-timeline svg .playlist rect:nth-child(22){animation-delay:.99s}.sequence-timeline svg .playlist rect:nth-child(23),.sequence-timeline svg .playlist rect:nth-child(24){animation-delay:1.08s}.sequence-timeline svg .playlist rect:nth-child(25),.sequence-timeline svg .playlist rect:nth-child(26){animation-delay:1.17s}.sequence-timeline svg .playlist rect:nth-child(27),.sequence-timeline svg .playlist rect:nth-child(28){animation-delay:1.26s}.sequence-timeline svg .playlist rect:nth-child(29),.sequence-timeline svg .playlist rect:nth-child(30){animation-delay:1.35s}.sequence-timeline svg .playlist rect:nth-child(31),.sequence-timeline svg .playlist rect:nth-child(32){animation-delay:1.44s}@keyframes showNote{60%{opacity:1}to{opacity:1;transform:translateX(0)}}.playhead{top:0;left:0;border-right:1px solid #6c5fc7;transform:translateX(0);opacity:0;transition:opacity .1s;z-index:2}.playhead,.playhead:before{position:absolute;height:100%}.playhead:before{content:\\\"\\\";display:block;width:10px;left:-10px;background:linear-gradient(90deg,rgba(108,95,199,0),rgba(108,95,199,.2))}.playhead.shown{opacity:1}.bpm-indicator{position:absolute;top:10px;font-weight:400;font-size:1.2rem;line-height:1.2rem;text-align:center;color:#f58159;transition:opacity .6s,transform .6s;opacity:0;transform:translateY(47px);pointer-events:none}.bpm-indicator.ready{opacity:1;transform:translateY(0)}.bpm-indicator div,.bpm-indicator small{color:#fff;font-weight:100}.bpm-indicator small{font-size:.65rem;margin-left:2px}.bpm-indicator div{font-size:.8rem;opacity:.6}.loading-sequence{position:absolute;top:20px;background:#e03e2f;font-size:.8rem;padding:5px 10px;border-radius:3px;animation:waitNotify 1s;transition:opacity .6s}.loading-sequence.ready{opacity:0;pointer-events:none}@keyframes waitNotify{0%{opacity:0}60%{opacity:0}to{opacity:1}}.help-popover{position:absolute;top:0;right:0;height:0}.help-popover .popover{width:600px;padding:40px;background:#fff;color:#342c3e;z-index:10;position:relative;border-radius:4px;top:90px;right:18px;font-size:.9rem;line-height:1.5rem;box-shadow:0 50px 100px rgba(50,50,93,.1),0 15px 35px rgba(50,50,93,.15),0 5px 15px rgba(0,0,0,.1);pointer-events:none;transform:rotate3d(1,1,0,15deg);transform-origin:100% 0;opacity:0;will-change:transform,opacity;transition-property:transform,opacity;transition-duration:.25s}.help-popover .popover:after{display:block;content:\\\"\\\";border:10px solid transparent;border-bottom-color:#fff;height:0;width:0;position:absolute;top:-20px;right:24px}.help-popover h1{margin:8px 0;font-size:.8rem;font-weight:600;text-transform:uppercase}.help-popover span{position:absolute;top:40px;right:40px;line-height:23px;width:25px;display:block;border-radius:50%;text-align:center;font-weight:100;color:hsla(0,0%,100%,.4);font-size:.9rem;padding-top:2px;cursor:pointer;transition:background .3s,color .3s}.help-popover.opened span,.help-popover span:hover{background:#fff;color:#a69db9}.help-popover.opened .popover{transform:none;opacity:1;pointer-events:auto}.help-popover p::selection{background:#d1cbe6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"./src/App.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(\"./node_modules/react/index.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _tone = __webpack_require__(\"./node_modules/tone/build/Tone.js\");\n\nvar _tone2 = _interopRequireDefault(_tone);\n\nvar _classnames = __webpack_require__(\"./node_modules/classnames/index.js\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _animejs = __webpack_require__(\"./node_modules/animejs/anime.min.js\");\n\nvar _animejs2 = _interopRequireDefault(_animejs);\n\nvar _reactAnimatedNumber = __webpack_require__(\"./node_modules/react-animated-number/build/index.js\");\n\nvar _reactAnimatedNumber2 = _interopRequireDefault(_reactAnimatedNumber);\n\nvar _lodash = __webpack_require__(\"./node_modules/lodash/lodash.js\");\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\n__webpack_require__(\"./src/index.scss\");\n\nvar _howItWorks = __webpack_require__(\"./src/how-it-works.svg\");\n\nvar _howItWorks2 = _interopRequireDefault(_howItWorks);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar platforms = ['javascript', 'node', 'python', 'ruby', 'cocoa', 'csharp', 'elixir', 'go', 'java', 'objc', 'php', 'perl', 'c', 'other'];\n\n// Startup the tone transport. We start the transport a bit in the future since\n// we won't have a sequence to fire until we build the fisrt sequence.\n_tone2.default.Transport.start('+1');\n\n// Default BPM\n_tone2.default.Transport.bpm.value = 160;\n\n// Put Tone on the window for debuggin purposes\nwindow.Tone = _tone2.default;\n\nvar instrumentGroups = ['Lead Synth', 'Kick Drum', 'Bass Line'];\n\nvar scale = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];\n\nvar defaultGrouping = [['javascript', 'python', 'node', 'php'], ['go', 'csharp', 'ruby'], ['java', 'elixir', 'c', 'other']];\n\n// XXX: Disable unused groupings to save on memory\nplatforms = _lodash2.default.flatten(defaultGrouping);\n\nvar synthBank = [{\n  javascript: new _tone2.default.PluckSynth().toMaster(),\n  python: new _tone2.default.PluckSynth().toMaster(),\n  node: new _tone2.default.PluckSynth().toMaster(),\n  php: new _tone2.default.PluckSynth().toMaster()\n}, {\n  go: new _tone2.default.MembraneSynth().toMaster(),\n  csharp: new _tone2.default.MembraneSynth().toMaster(),\n  ruby: new _tone2.default.MembraneSynth().toMaster()\n}, {\n  java: new _tone2.default.FMSynth().toMaster(),\n  elixir: new _tone2.default.FMSynth().toMaster(),\n  c: new _tone2.default.FMSynth().toMaster(),\n  other: new _tone2.default.FMSynth().toMaster()\n}];\n\nvar groupConfigs = {\n  javascript: {\n    countDivision: 5,\n    noteLength: '64n',\n    quantizeTo: '8n'\n  },\n  python: {\n    countDivision: 5,\n    noteLength: '64n',\n    quantizeTo: '8n',\n    offset: '16n'\n  },\n  php: {\n    countDivision: 6,\n    noteLength: '16n',\n    quantizeTo: '4n',\n    offset: '14n',\n    startMuted: true\n  },\n  csharp: {\n    offset: '8n'\n  },\n  ruby: {\n    startMuted: true\n  },\n  java: {\n    countDivision: 4,\n    noteLength: '32n',\n    quantizeTo: '1:0'\n  },\n  elixir: {\n    countDivision: 1,\n    noteLength: '32n',\n    quantizeTo: '0:2'\n  }\n};\n\nvar SeqeuenceCanvas = function (_Component) {\n  _inherits(SeqeuenceCanvas, _Component);\n\n  function SeqeuenceCanvas() {\n    _classCallCheck(this, SeqeuenceCanvas);\n\n    return _possibleConstructorReturn(this, (SeqeuenceCanvas.__proto__ || Object.getPrototypeOf(SeqeuenceCanvas)).apply(this, arguments));\n  }\n\n  _createClass(SeqeuenceCanvas, [{\n    key: 'makeBarGrid',\n    value: function makeBarGrid() {\n      var _this2 = this;\n\n      var widthPerBar = _tone2.default.Time('1:0:0').div(this.props.sequenceSize).mult(this.props.width).toSeconds();\n\n      var totalBars = Math.floor(this.props.width / widthPerBar);\n\n      return _lodash2.default.times(totalBars, function (i) {\n        return _react2.default.createElement('line', { key: i,\n          x1: Math.floor(widthPerBar * (i + 1)),\n          x2: Math.floor(widthPerBar * (i + 1)),\n          y1: 0,\n          y2: _this2.props.height });\n      });\n    }\n  }, {\n    key: 'makeNote',\n    value: function makeNote(note) {\n      var paddingX = 1;\n      var paddingY = 2;\n\n      var height = this.props.height / scale.length - paddingY * 2;\n      var rawWidth = note.length.clone().div(this.props.sequenceSize).mult(this.props.width).toSeconds();\n\n      // Notes may play for a very short period of time, but at least give them a\n      // pixel representation\n      var width = Math.max(1, rawWidth);\n\n      var x = note.relTime.clone().div(this.props.sequenceSize).mult(this.props.width).toSeconds() + paddingX;\n\n      var y = Math.floor(note.scaleIndex * (this.props.height / scale.length)) + paddingY;\n\n      return _react2.default.createElement('rect', { key: note.time.toSeconds(),\n        height: height,\n        width: width,\n        x: x,\n        y: y });\n    }\n  }, {\n    key: 'makePlaylist',\n    value: function makePlaylist() {\n      var _this3 = this;\n\n      return this.props.playlist.map(function (n) {\n        return _this3.makeNote(n);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'svg',\n        { width: this.props.width, height: this.props.height },\n        _react2.default.createElement(\n          'g',\n          { className: 'bar-lines' },\n          this.makeBarGrid()\n        ),\n        _react2.default.createElement(\n          'g',\n          { className: 'playlist' },\n          this.makePlaylist()\n        )\n      );\n    }\n  }]);\n\n  return SeqeuenceCanvas;\n}(_react.Component);\n\nvar PlatformSequence = function (_Component2) {\n  _inherits(PlatformSequence, _Component2);\n\n  function PlatformSequence() {\n    _classCallCheck(this, PlatformSequence);\n\n    var _this4 = _possibleConstructorReturn(this, (PlatformSequence.__proto__ || Object.getPrototypeOf(PlatformSequence)).call(this));\n\n    _this4.state = {\n      isMuted: false,\n      playheadShown: false,\n      playlist: []\n    };\n\n    _this4.timeline = null;\n    _this4.playhead = null;\n    _this4.playheadAnim = null;\n    _this4.noteIndicator = null;\n\n    _this4.playingNotes = 0;\n\n    _this4.mute = _this4.mute.bind(_this4);\n    _this4.setPlayhead = _this4.setPlayhead.bind(_this4);\n    _this4.processEvents = _this4.processEvents.bind(_this4);\n    _this4.noteStart = _this4.noteStart.bind(_this4);\n    _this4.noteEnd = _this4.noteEnd.bind(_this4);\n    _this4.updatePlaylist = _this4.updatePlaylist.bind(_this4);\n    return _this4;\n  }\n\n  _createClass(PlatformSequence, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setState({ muted: this.props.startMuted });\n      this.props.synth.volume.value = this.props.startMuted ? -100 : 0;\n\n      var start = this.props.sequenceSize;\n\n      // Schedule repeating event sampling for this platform\n      new _tone2.default.Loop(this.processEvents, this.props.sequenceSize).start(start);\n    }\n  }, {\n    key: 'processEvents',\n    value: function processEvents(time) {\n      var _this5 = this;\n\n      // XXX: This isn't great that we're directly mutating this here, probably\n      // would be nicer to keep doing things in a react-esq way in which case\n      // this *should* be immutable, but whatever, it's a hackweek project.\n      var entries = this.props.eventBuffer[this.props.platform].sort();\n      this.props.eventBuffer[this.props.platform] = [];\n\n      // Normalize entry timestamps to seconds starting relative to the start of\n      // the upcoming sequence.\n      var earliestTime = entries[0];\n      entries = entries.map(function (e) {\n        return _tone2.default.Time((e - earliestTime) / 1000);\n      });\n\n      // We compute where the notes land on the grid by [1] quantizing them onto\n      // the grid based on the quantizeTo property, then determining how long the\n      // note should last by [2] taking the number of events quantized to the\n      // same time, [3] dividing that by the countDivision, and multiplying that\n      // by the noteLength property.\n      //\n      // [4] Notes are moved up and down the scale when they would otherwise\n      // overlap with another note before it's completed.\n\n      // [1]: Quanitze error timestamps\n      entries = entries.map(function (e) {\n        return e.quantize(_this5.props.quantizeTo);\n      });\n\n      // Remove any entires that fall *outside* of the next sequence\n      entries = entries.filter(function (e) {\n        return e < _this5.props.sequenceSize;\n      });\n\n      // [2]: Group timestamps based on overlap\n      var groups = Object.values(_lodash2.default.groupBy(entries, function (e) {\n        return e.toSeconds();\n      }));\n\n      // [3]: Offset the time and compute the note length\n      entries = groups.map(function (e) {\n        return {\n          relTime: e[0].add(_this5.props.offset),\n          time: e[0].clone().add(time),\n          length: _tone2.default.Time(e.length / _this5.props.countDivision).mult(_this5.props.noteLength)\n        };\n      });\n\n      // Start at a random note. Maybe a good idea, maybe bad\n      var scaleIndex = Math.floor(Math.random() * (scale.length - 1));\n      entries[0].scaleIndex = scaleIndex;\n\n      // [4]: Move notes through the scale if notes overlap nessicary\n      for (var i = 1; i < entries.length; i++) {\n        var curr = entries[i];\n        var last = entries[i - 1];\n\n        var dir = [-1, 1][Math.floor(Math.random() * 2)];\n\n        curr.scaleIndex = last.time.clone().add(last.length) > curr.time ? scaleIndex = Math.abs(scaleIndex + dir) % scale.length : scaleIndex;\n      }\n\n      // Schedule notes to be played\n      entries.forEach(function (n) {\n        var note = '' + scale[n.scaleIndex] + _this5.props.instrumentIndex;\n        _this5.props.synth.triggerAttackRelease(note, n.length, n.time);\n      });\n\n      // Schedule beat-indicator triggers for each note.\n      // TODO: This is sometimes a little bit buggy\n      entries.forEach(function (e) {\n        _tone2.default.Draw.schedule(_this5.noteStart, e.time);\n        _tone2.default.Draw.schedule(_this5.noteEnd, e.time.clone().add(e.length));\n      });\n\n      // Schedule redrawing of the sequence grid and playhead\n      _tone2.default.Draw.schedule(function (_) {\n        return _this5.updatePlaylist(entries);\n      }, time);\n      _tone2.default.Draw.schedule(this.setPlayhead, time);\n    }\n  }, {\n    key: 'updatePlaylist',\n    value: function updatePlaylist(entries) {\n      this.setState({ playlist: entries });\n    }\n  }, {\n    key: 'noteStart',\n    value: function noteStart() {\n      this.playingNotes++;\n      this.noteIndicator.classList.add('trigger');\n    }\n  }, {\n    key: 'noteEnd',\n    value: function noteEnd() {\n      if (this.playingNotes-- === 1) {\n        this.noteIndicator.classList.remove('trigger');\n      }\n    }\n  }, {\n    key: 'setPlayhead',\n    value: function setPlayhead() {\n      this.setState({ playheadShown: true });\n\n      _animejs2.default.remove(this.playhead);\n      this.playhead.style.transform = 'translateX(0)';\n\n      this.playheadAnim = (0, _animejs2.default)({\n        targets: this.playhead,\n        duration: this.props.sequenceSize.toMilliseconds(),\n        translateX: this.timeline.clientWidth,\n        easing: 'linear'\n      });\n    }\n  }, {\n    key: 'mute',\n    value: function mute() {\n      var muted = !this.state.muted;\n      this.setState({ muted: muted });\n      this.props.synth.volume.value = muted ? -100 : 0;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      return _react2.default.createElement(\n        'li',\n        {\n          className: (0, _classnames2.default)('platform', { muted: this.state.muted }),\n          onClick: this.mute },\n        _react2.default.createElement('span', { className: (0, _classnames2.default)('platform-icon', this.props.platform) }),\n        _react2.default.createElement('span', { className: 'note-indicator', ref: function ref(n) {\n            return _this6.noteIndicator = n;\n          } }),\n        _react2.default.createElement(\n          'div',\n          { className: 'sequence-timeline', ref: function ref(n) {\n              return _this6.timeline = n;\n            } },\n          _react2.default.createElement('span', {\n            className: (0, _classnames2.default)('playhead', { shown: this.state.playheadShown }),\n            ref: function ref(n) {\n              return _this6.playhead = n;\n            } }),\n          _react2.default.createElement(SeqeuenceCanvas, {\n            playlist: this.state.playlist,\n            sequenceSize: this.props.sequenceSize,\n            width: 734,\n            height: 48 })\n        )\n      );\n    }\n  }]);\n\n  return PlatformSequence;\n}(_react.Component);\n\nPlatformSequence.defaultProps = {\n  countDivision: 5,\n  noteLength: '64n',\n  quantizeTo: '2n',\n  offset: 0\n};\n\nvar HelpPopover = function (_Component3) {\n  _inherits(HelpPopover, _Component3);\n\n  function HelpPopover() {\n    _classCallCheck(this, HelpPopover);\n\n    var _this7 = _possibleConstructorReturn(this, (HelpPopover.__proto__ || Object.getPrototypeOf(HelpPopover)).call(this));\n\n    _this7.state = { opened: false };\n    return _this7;\n  }\n\n  _createClass(HelpPopover, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this8 = this;\n\n      document.addEventListener('click', function (e) {\n        if (!_this8.popover.contains(e.target)) {\n          _this8.setState({ opened: false });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this9 = this;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)('help-popover', { opened: this.state.opened }),\n          ref: function ref(n) {\n            return _this9.popover = n;\n          } },\n        _react2.default.createElement(\n          'span',\n          { onClick: function onClick(_) {\n              return _this9.setState({ opened: !_this9.state.opened });\n            } },\n          '?'\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'popover' },\n          _react2.default.createElement(\n            'h1',\n            null,\n            'What is this?'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'Sentry echo is a Winter 2017 hack-week project that sprung about from wanting to play with the live data available through ',\n            _react2.default.createElement(\n              'a',\n              { href: 'http://live.sentry.io' },\n              'live.sentry.io'\n            ),\n            '.  Echo generates music using the live stream of errors collected by sentry, placing notes onto a sequence using the error timestamp and it\\'s platform.'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'Sentry echo was created by Evan Purkhiser.'\n          ),\n          _react2.default.createElement(\n            'h1',\n            null,\n            'How does it work?'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'Errors are collected over the HTTP Message Stream ',\n            _react2.default.createElement(\n              'a',\n              {\n                href: 'http://live.sentry.io:7000' },\n              'live.sentry.io:7000'\n            ),\n            ' and buffered into platform groups. We then sequence the errors collected over a 4 musical bar period onto a scale. We then do some manipulations based on the timestamp of the event to algin them onto the sequence.'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            _react2.default.createElement('img', { src: _howItWorks2.default })\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'The BPM for each sequence is computed by taking the total number of errors collected during that period, comuputing the rate of errors per second, and dividing that by a constant to get a sane BPM.'\n          )\n        )\n      );\n    }\n  }]);\n\n  return HelpPopover;\n}(_react.Component);\n\nvar heading = _react2.default.createElement(\n  'header',\n  null,\n  _react2.default.createElement(\n    'div',\n    { className: 'logo' },\n    _react2.default.createElement(\n      'h1',\n      null,\n      'Sentry'\n    ),\n    _react2.default.createElement(\n      'h1',\n      null,\n      'Echo'\n    )\n  ),\n  _react2.default.createElement(\n    'p',\n    null,\n    'Listen the beautiful soundscape generated by software breaking around the world. Hear the sound of errors \\u2014 Powered by sentry.io'\n  )\n);\n\nvar App = function (_Component4) {\n  _inherits(App, _Component4);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    var _this10 = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this));\n\n    _this10.state = {\n      globalSequenceSize: _tone2.default.Time('4:0:0'),\n      ordering: _lodash2.default.cloneDeep(defaultGrouping),\n\n      bpmDivider: 6,\n      currentBpm: new Number(0),\n      eventsPerSecond: new Number(0)\n    };\n\n    _this10.eventBuffer = _lodash2.default.fromPairs(platforms.map(function (p) {\n      return [p, []];\n    }));\n    _this10.eventsPerSequence = 0;\n\n    _this10.starting = _this10.starting.bind(_this10);\n    _this10.recomputeBpm = _this10.recomputeBpm.bind(_this10);\n    return _this10;\n  }\n\n  _createClass(App, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this11 = this;\n\n      this.props.eventStream.onmessage = this.processEvents.bind(this);\n\n      var start = this.state.globalSequenceSize;\n      _tone2.default.Transport.scheduleOnce(function (t) {\n        return _tone2.default.Draw.schedule(_this11.starting, t);\n      }, start);\n\n      // The BPM should be updated *just* before any other updates are scheduled\n      var oneTickBack = start.clone().sub('1i');\n      new _tone2.default.Loop(this.recomputeBpm, this.state.globalSequenceSize).start(oneTickBack);\n    }\n  }, {\n    key: 'processEvents',\n    value: function processEvents(message) {\n      var _JSON$parse = JSON.parse(message.data),\n          _JSON$parse2 = _slicedToArray(_JSON$parse, 4),\n          latitude = _JSON$parse2[0],\n          longitude = _JSON$parse2[1],\n          ts = _JSON$parse2[2],\n          platform = _JSON$parse2[3];\n\n      if (this.eventBuffer[platform] === undefined) {\n        return;\n      }\n\n      this.eventsPerSequence++;\n      this.eventBuffer[platform].push(ts);\n    }\n  }, {\n    key: 'starting',\n    value: function starting() {\n      this.setState({ playing: true });\n    }\n  }, {\n    key: 'recomputeBpm',\n    value: function recomputeBpm(time) {\n      var _this12 = this;\n\n      var eventCount = this.eventsPerSequence;\n      this.eventsPerSequence = 0;\n\n      var eventsPerSecond = eventCount / this.state.globalSequenceSize;\n      var currentBpm = eventsPerSecond / this.state.bpmDivider;\n\n      _tone2.default.Draw.schedule(function (_) {\n        return _this12.setState({ eventsPerSecond: eventsPerSecond, currentBpm: currentBpm });\n      }, time);\n\n      // Update the BPM of the transport at the precise time\n      _tone2.default.Transport.bpm.value = currentBpm;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this13 = this;\n\n      var sequencerList = this.state.ordering.map(function (items, i) {\n        var heading = _react2.default.createElement(\n          'li',\n          { key: i, className: 'instrument-heading' },\n          instrumentGroups[i]\n        );\n\n        var sequencers = items.map(function (p, j) {\n          return _react2.default.createElement(PlatformSequence, _extends({ key: p\n          }, groupConfigs[p], {\n            synth: synthBank[i][p],\n            instrumentIndex: j + 2,\n            sequenceSize: _this13.state.globalSequenceSize,\n            eventBuffer: _this13.eventBuffer,\n            platform: p }));\n        });\n\n        return [heading, sequencers];\n      });\n\n      var readyClass = { ready: this.state.playing };\n\n      var loader = _react2.default.createElement(\n        'span',\n        { className: (0, _classnames2.default)('loading-sequence', readyClass) },\n        'Waiting ',\n        this.state.globalSequenceSize.toSeconds().toFixed(1) + ' ',\n        'seconds for first sequence of events...'\n      );\n\n      var bpmClasses = (0, _classnames2.default)('bpm-indicator', {\n        ready: this.state.playing\n      });\n\n      var bpmIndicator = _react2.default.createElement(\n        'h1',\n        { className: (0, _classnames2.default)('bpm-indicator', readyClass) },\n        _react2.default.createElement(_reactAnimatedNumber2.default, {\n          value: this.state.currentBpm,\n          formatValue: function formatValue(n) {\n            return n.toFixed(2);\n          },\n          duration: 600 }),\n        _react2.default.createElement(\n          'small',\n          null,\n          'BPM'\n        ),\n        _react2.default.createElement(\n          'div',\n          null,\n          this.state.eventsPerSecond.toFixed(1) + ' ',\n          'errors \\u2215 second \\xF7 ',\n          this.state.bpmDivider\n        )\n      );\n\n      return _react2.default.createElement(\n        'div',\n        { id: 'sentry_echo' },\n        heading,\n        _react2.default.createElement(HelpPopover, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'main-app' },\n          loader,\n          bpmIndicator,\n          _react2.default.createElement(\n            'ul',\n            { className: 'sequencers' },\n            sequencerList\n          )\n        )\n      );\n    }\n  }]);\n\n  return App;\n}(_react.Component);\n\nexports.default = App;\n\n/***/ }),\n\n/***/ \"./src/how-it-works.svg\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"77787333af8eca0b5a2b27444df0a7f9.svg\";\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(\"./node_modules/react/index.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(\"./node_modules/react-dom/index.js\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _App = __webpack_require__(\"./src/App.js\");\n\nvar _App2 = _interopRequireDefault(_App);\n\n__webpack_require__(\"./src/index.scss\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar stream = new EventSource(\"https://live.sentry.io/stream\");\n\n_reactDom2.default.render(_react2.default.createElement(_App2.default, { eventStream: stream }), document.getElementById(\"root\"));\n\n/***/ }),\n\n/***/ \"./src/index.scss\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss\");\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(\"./node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(true) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss\", function() {\n\t\t\tvar newContent = __webpack_require__(\"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n},[\"./src/index.js\"]);\n\n\n// WEBPACK FOOTER //\n// main.8db94a687b03673a8545.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Raleway:100,200,300);\", \"\"]);\nexports.i(require(\"-!../node_modules/css-loader/index.js!platformicons/platformicons/platformicons.css\"), \"\");\nexports.i(require(\"-!../node_modules/css-loader/index.js!typeface-rubik/index.css\"), \"\");\n\n// module\nexports.push([module.id, \".platform-icon:before{height:50px;width:50px;font-family:platformicons;color:#fff;font-size:32px;-webkit-font-smoothing:antialiased;display:block;height:100%;border-radius:3px 0 0 3px;text-align:center;line-height:48px}.c:before{content:\\\"C\\\";font-family:Raleway;font-weight:300;background:#a9b9cb;line-height:50px}.cocoa:before{content:\\\"\\\\E60A\\\";background:red}.csharp:before{content:\\\"\\\\E60F\\\";background:#0090ff}.elixir:before{content:\\\"\\\\E903\\\";background:#4e3fb4}.go:before{content:\\\"\\\\E606\\\";background:#fff;color:#000}.java:before{content:\\\"\\\\E608\\\";background:#ff8a00}.javascript:before{content:\\\"\\\\E600\\\";background:#ffd906}.node:before{content:\\\"\\\\E609\\\";background:#8ac655}.objc:before{content:\\\"\\\\E60E\\\";background:#02bfd0}.php:before{content:\\\"\\\\E601\\\";background:#4f5b93}.python:before{content:\\\"\\\\E602\\\";background:#3776ab}.ruby:before{content:\\\"\\\\E604\\\";background:#d00202}.perl:before{content:\\\"\\\\E901\\\";background:#9d95a4}.other:before{content:\\\"\\\\E60A\\\";background:#afafaf}#root,body,html{height:100%}#root,#sentry_echo,body{min-height:100%;margin:0;padding:0}body{background:#15121c;color:#fff;font-family:Rubik;font-weight:300}a{color:#6c5fc7;text-decoration:none;transition:color .3s}a:hover{color:#423b87}#sentry_echo,header{display:flex;flex-direction:column}header{flex-grow:0;padding:20px 0;text-align:center}header p{padding-top:25px;width:570px;line-height:1.9em;margin:0 auto;font-size:.9rem;color:#fff;animation:flavorText 10s linear 1 forwards}@keyframes flavorText{50%{opacity:1}to{opacity:.25}}.logo{display:flex;font-family:Raleway;margin:0 auto}.logo h1:first-child{width:200px;height:70px;background:url(\\\"https://sentry-brand.storage.googleapis.com/sentry-logo-white.svg\\\") no-repeat;text-indent:-9999px}.logo h1:last-child{font-weight:100;text-transform:lowercase;line-height:68px;position:relative}.main-app{position:relative;flex-grow:1;display:flex;justify-content:center;padding:80px 0}.sequencers{list-style:none;margin:0;padding:0}.sequencers li:not(:last-child){margin-bottom:8px}.platform{display:flex;width:800px;transition:opacity .5s,filter .5s}.platform.muted{opacity:.2}.instrument-heading{display:flex;text-transform:uppercase;font-size:.8rem;align-items:center;padding:4px 0;user-select:none}.instrument-heading:after{content:\\\"\\\";border-bottom:1px solid #333;flex-grow:1;margin-left:10px}.note-indicator{display:block;width:4px;background:#353042;margin-left:6px;transition:background .3s}.note-indicator.trigger{background:#f36e4f}@keyframes noteIndicatorTrigger{20%{background:#e03e2f}}.sequence-timeline{overflow:hidden;position:relative;margin-left:6px;background:hsla(0,0%,100%,.01);flex-grow:1}.sequence-timeline svg{display:block;shape-rendering:crispEdges}.sequence-timeline svg .bar-lines line{stroke-width:1px;stroke:#2a2140}.sequence-timeline svg .playlist rect{fill:#9990ab;opacity:0;transform:translateX(8px);animation:showNote .4s;animation-fill-mode:forwards}.sequence-timeline svg .playlist rect:first-child,.sequence-timeline svg .playlist rect:nth-child(2){animation-delay:90ms}.sequence-timeline svg .playlist rect:nth-child(3),.sequence-timeline svg .playlist rect:nth-child(4){animation-delay:.18s}.sequence-timeline svg .playlist rect:nth-child(5),.sequence-timeline svg .playlist rect:nth-child(6){animation-delay:.27s}.sequence-timeline svg .playlist rect:nth-child(7),.sequence-timeline svg .playlist rect:nth-child(8){animation-delay:.36s}.sequence-timeline svg .playlist rect:nth-child(9),.sequence-timeline svg .playlist rect:nth-child(10){animation-delay:.45s}.sequence-timeline svg .playlist rect:nth-child(11),.sequence-timeline svg .playlist rect:nth-child(12){animation-delay:.54s}.sequence-timeline svg .playlist rect:nth-child(13),.sequence-timeline svg .playlist rect:nth-child(14){animation-delay:.63s}.sequence-timeline svg .playlist rect:nth-child(15),.sequence-timeline svg .playlist rect:nth-child(16){animation-delay:.72s}.sequence-timeline svg .playlist rect:nth-child(17),.sequence-timeline svg .playlist rect:nth-child(18){animation-delay:.81s}.sequence-timeline svg .playlist rect:nth-child(19),.sequence-timeline svg .playlist rect:nth-child(20){animation-delay:.9s}.sequence-timeline svg .playlist rect:nth-child(21),.sequence-timeline svg .playlist rect:nth-child(22){animation-delay:.99s}.sequence-timeline svg .playlist rect:nth-child(23),.sequence-timeline svg .playlist rect:nth-child(24){animation-delay:1.08s}.sequence-timeline svg .playlist rect:nth-child(25),.sequence-timeline svg .playlist rect:nth-child(26){animation-delay:1.17s}.sequence-timeline svg .playlist rect:nth-child(27),.sequence-timeline svg .playlist rect:nth-child(28){animation-delay:1.26s}.sequence-timeline svg .playlist rect:nth-child(29),.sequence-timeline svg .playlist rect:nth-child(30){animation-delay:1.35s}.sequence-timeline svg .playlist rect:nth-child(31),.sequence-timeline svg .playlist rect:nth-child(32){animation-delay:1.44s}@keyframes showNote{60%{opacity:1}to{opacity:1;transform:translateX(0)}}.playhead{top:0;left:0;border-right:1px solid #6c5fc7;transform:translateX(0);opacity:0;transition:opacity .1s;z-index:2}.playhead,.playhead:before{position:absolute;height:100%}.playhead:before{content:\\\"\\\";display:block;width:10px;left:-10px;background:linear-gradient(90deg,rgba(108,95,199,0),rgba(108,95,199,.2))}.playhead.shown{opacity:1}.bpm-indicator{position:absolute;top:10px;font-weight:400;font-size:1.2rem;line-height:1.2rem;text-align:center;color:#f58159;transition:opacity .6s,transform .6s;opacity:0;transform:translateY(47px);pointer-events:none}.bpm-indicator.ready{opacity:1;transform:translateY(0)}.bpm-indicator div,.bpm-indicator small{color:#fff;font-weight:100}.bpm-indicator small{font-size:.65rem;margin-left:2px}.bpm-indicator div{font-size:.8rem;opacity:.6}.loading-sequence{position:absolute;top:20px;background:#e03e2f;font-size:.8rem;padding:5px 10px;border-radius:3px;animation:waitNotify 1s;transition:opacity .6s}.loading-sequence.ready{opacity:0;pointer-events:none}@keyframes waitNotify{0%{opacity:0}60%{opacity:0}to{opacity:1}}.help-popover{position:absolute;top:0;right:0;height:0}.help-popover .popover{width:600px;padding:40px;background:#fff;color:#342c3e;z-index:10;position:relative;border-radius:4px;top:90px;right:18px;font-size:.9rem;line-height:1.5rem;box-shadow:0 50px 100px rgba(50,50,93,.1),0 15px 35px rgba(50,50,93,.15),0 5px 15px rgba(0,0,0,.1);pointer-events:none;transform:rotate3d(1,1,0,15deg);transform-origin:100% 0;opacity:0;will-change:transform,opacity;transition-property:transform,opacity;transition-duration:.25s}.help-popover .popover:after{display:block;content:\\\"\\\";border:10px solid transparent;border-bottom-color:#fff;height:0;width:0;position:absolute;top:-20px;right:24px}.help-popover h1{margin:8px 0;font-size:.8rem;font-weight:600;text-transform:uppercase}.help-popover span{position:absolute;top:40px;right:40px;line-height:23px;width:25px;display:block;border-radius:50%;text-align:center;font-weight:100;color:hsla(0,0%,100%,.4);font-size:.9rem;padding-top:2px;cursor:pointer;transition:background .3s,color .3s}.help-popover.opened span,.help-popover span:hover{background:#fff;color:#a69db9}.help-popover.opened .popover{transform:none;opacity:1;pointer-events:auto}.help-popover p::selection{background:#d1cbe6}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/index.scss\n// module id = ./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/index.scss\n// module chunks = 1","import React, { Component } from 'react';\nimport Tone from 'tone';\nimport classNames from 'classnames';\nimport anime from 'animejs';\nimport AnimatedNumber from 'react-animated-number';\nimport lodash from 'lodash';\nimport './index.scss';\nimport howItWorks from './how-it-works.svg';\n\nlet platforms = [\n  'javascript',\n  'node',\n  'python',\n  'ruby',\n  'cocoa',\n  'csharp',\n  'elixir',\n  'go',\n  'java',\n  'objc',\n  'php',\n  'perl',\n  'c',\n  'other',\n];\n\n// Startup the tone transport. We start the transport a bit in the future since\n// we won't have a sequence to fire until we build the fisrt sequence.\nTone.Transport.start('+1');\n\n// Default BPM\nTone.Transport.bpm.value = 160;\n\n// Put Tone on the window for debuggin purposes\nwindow.Tone = Tone;\n\nconst instrumentGroups = [\n  'Lead Synth',\n  'Kick Drum',\n  'Bass Line',\n];\n\nconst scale = [ 'C', 'D', 'E', 'F', 'G', 'A', 'B' ];\n\nconst defaultGrouping = [\n  [ 'javascript', 'python', 'node',  'php' ],\n  [ 'go', 'csharp', 'ruby' ],\n  [ 'java' , 'elixir', 'c', 'other' ],\n];\n\n// XXX: Disable unused groupings to save on memory\nplatforms = lodash.flatten(defaultGrouping);\n\nconst synthBank = [\n  {\n    javascript: new Tone.PluckSynth().toMaster(),\n    python: new Tone.PluckSynth().toMaster(),\n    node: new Tone.PluckSynth().toMaster(),\n    php: new Tone.PluckSynth().toMaster(),\n  },\n  {\n    go: new Tone.MembraneSynth().toMaster(),\n    csharp: new Tone.MembraneSynth().toMaster(),\n    ruby: new Tone.MembraneSynth().toMaster(),\n  },\n  {\n    java:   new Tone.FMSynth().toMaster(),\n    elixir: new Tone.FMSynth().toMaster(),\n    c: new Tone.FMSynth().toMaster(),\n    other: new Tone.FMSynth().toMaster(),\n  }\n];\n\nconst groupConfigs = {\n  javascript:  {\n    countDivision: 5,\n    noteLength:    '64n',\n    quantizeTo:    '8n',\n  },\n  python:  {\n    countDivision: 5,\n    noteLength:    '64n',\n    quantizeTo:    '8n',\n    offset:        '16n',\n  },\n  php:  {\n    countDivision: 6,\n    noteLength:    '16n',\n    quantizeTo:    '4n',\n    offset:        '14n',\n    startMuted:    true,\n  },\n  csharp: {\n    offset: '8n'\n  },\n  ruby: {\n    startMuted: true,\n  },\n  java: {\n    countDivision: 4,\n    noteLength:    '32n',\n    quantizeTo:    '1:0',\n  },\n  elixir: {\n    countDivision: 1,\n    noteLength:    '32n',\n    quantizeTo:    '0:2',\n  },\n};\n\nclass SeqeuenceCanvas extends Component {\n  makeBarGrid() {\n    const widthPerBar = Tone.Time('1:0:0')\n      .div(this.props.sequenceSize)\n      .mult(this.props.width)\n      .toSeconds();\n\n    const totalBars = Math.floor(this.props.width / widthPerBar)\n\n    return lodash.times(totalBars, i => <line key={i}\n      x1={Math.floor(widthPerBar * (i + 1))}\n      x2={Math.floor(widthPerBar * (i + 1))}\n      y1={0}\n      y2={this.props.height} />);\n  }\n\n  makeNote(note) {\n    const paddingX = 1;\n    const paddingY = 2;\n\n    const height = (this.props.height / scale.length) - (paddingY * 2);\n    const rawWidth = note.length.clone()\n      .div(this.props.sequenceSize)\n      .mult(this.props.width)\n      .toSeconds();\n\n    // Notes may play for a very short period of time, but at least give them a\n    // pixel representation\n    const width = Math.max(1, rawWidth);\n\n    const x = note.relTime.clone()\n      .div(this.props.sequenceSize)\n      .mult(this.props.width)\n      .toSeconds() + paddingX;\n\n    const y = Math.floor(note.scaleIndex * (this.props.height / scale.length)) + paddingY;\n\n    return <rect key={note.time.toSeconds()}\n      height={height}\n      width={width}\n      x={x}\n      y={y} />\n  }\n\n  makePlaylist() {\n    return this.props.playlist.map(n => this.makeNote(n));\n  }\n\n  render() {\n    return <svg width={this.props.width} height={this.props.height}>\n      <g className=\"bar-lines\">\n        {this.makeBarGrid()}\n      </g>\n      <g className=\"playlist\">\n        {this.makePlaylist()}\n      </g>\n    </svg>;\n  }\n}\n\nclass PlatformSequence extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isMuted:       false,\n      playheadShown: false,\n      playlist:      [],\n    };\n\n    this.timeline = null;\n    this.playhead = null;\n    this.playheadAnim = null\n    this.noteIndicator = null\n\n    this.playingNotes = 0;\n\n    this.mute = this.mute.bind(this);\n    this.setPlayhead = this.setPlayhead.bind(this);\n    this.processEvents = this.processEvents.bind(this);\n    this.noteStart = this.noteStart.bind(this);\n    this.noteEnd = this.noteEnd.bind(this);\n    this.updatePlaylist = this.updatePlaylist.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({ muted: this.props.startMuted });\n    this.props.synth.volume.value = this.props.startMuted ? -100 : 0;\n\n    const start = this.props.sequenceSize\n\n    // Schedule repeating event sampling for this platform\n    new Tone.Loop(this.processEvents, this.props.sequenceSize).start(start);\n  }\n\n  processEvents(time) {\n    // XXX: This isn't great that we're directly mutating this here, probably\n    // would be nicer to keep doing things in a react-esq way in which case\n    // this *should* be immutable, but whatever, it's a hackweek project.\n    let entries = this.props.eventBuffer[this.props.platform].sort()\n    this.props.eventBuffer[this.props.platform] = [];\n\n    // Normalize entry timestamps to seconds starting relative to the start of\n    // the upcoming sequence.\n    const earliestTime = entries[0];\n    entries = entries.map(e => Tone.Time((e - earliestTime) / 1000));\n\n    // We compute where the notes land on the grid by [1] quantizing them onto\n    // the grid based on the quantizeTo property, then determining how long the\n    // note should last by [2] taking the number of events quantized to the\n    // same time, [3] dividing that by the countDivision, and multiplying that\n    // by the noteLength property.\n    //\n    // [4] Notes are moved up and down the scale when they would otherwise\n    // overlap with another note before it's completed.\n\n    // [1]: Quanitze error timestamps\n    entries = entries.map(e => e.quantize(this.props.quantizeTo))\n\n    // Remove any entires that fall *outside* of the next sequence\n    entries = entries.filter(e => e < this.props.sequenceSize)\n\n    // [2]: Group timestamps based on overlap\n    const groups = Object.values(lodash.groupBy(entries, e => e.toSeconds()))\n\n    // [3]: Offset the time and compute the note length\n    entries = groups.map(e => ({\n      relTime: e[0].add(this.props.offset),\n      time:    e[0].clone().add(time),\n      length: Tone.Time(e.length / this.props.countDivision).mult(this.props.noteLength),\n    }));\n\n    // Start at a random note. Maybe a good idea, maybe bad\n    let scaleIndex = Math.floor(Math.random() * (scale.length - 1));\n    entries[0].scaleIndex = scaleIndex;\n\n    // [4]: Move notes through the scale if notes overlap nessicary\n    for (let i = 1; i < entries.length; i++) {\n      const curr = entries[i];\n      const last = entries[i-1];\n\n      const dir = [-1, 1][Math.floor(Math.random() * 2)];\n\n      curr.scaleIndex = last.time.clone().add(last.length) > curr.time\n        ? scaleIndex = Math.abs(scaleIndex + dir) % scale.length\n        : scaleIndex;\n    }\n\n    // Schedule notes to be played\n    entries.forEach(n => {\n      const note = `${scale[n.scaleIndex]}${this.props.instrumentIndex}`;\n      this.props.synth.triggerAttackRelease(note, n.length, n.time);\n    });\n\n    // Schedule beat-indicator triggers for each note.\n    // TODO: This is sometimes a little bit buggy\n    entries.forEach(e => {\n      Tone.Draw.schedule(this.noteStart, e.time);\n      Tone.Draw.schedule(this.noteEnd, e.time.clone().add(e.length));\n    });\n\n    // Schedule redrawing of the sequence grid and playhead\n    Tone.Draw.schedule(_ => this.updatePlaylist(entries), time);\n    Tone.Draw.schedule(this.setPlayhead, time);\n  }\n\n  updatePlaylist(entries) {\n    this.setState({ playlist: entries });\n  }\n\n  noteStart() {\n    this.playingNotes++;\n    this.noteIndicator.classList.add('trigger');\n  }\n\n  noteEnd() {\n    if (this.playingNotes-- === 1) {\n      this.noteIndicator.classList.remove('trigger');\n    }\n  }\n\n  setPlayhead() {\n    this.setState({ playheadShown: true });\n\n    anime.remove(this.playhead);\n    this.playhead.style.transform = 'translateX(0)';\n\n    this.playheadAnim = anime({\n      targets:    this.playhead,\n      duration:   this.props.sequenceSize.toMilliseconds(),\n      translateX: this.timeline.clientWidth,\n      easing:     'linear',\n    });\n  }\n\n  mute() {\n    const muted = !this.state.muted\n    this.setState({ muted });\n    this.props.synth.volume.value = muted ? -100 : 0;\n  }\n\n  render() {\n    return <li\n      className={classNames('platform', { muted: this.state.muted })}\n      onClick={this.mute}>\n      <span className={classNames('platform-icon', this.props.platform)} />\n      <span className=\"note-indicator\" ref={n => this.noteIndicator = n} />\n      <div className=\"sequence-timeline\" ref={n => this.timeline = n}>\n        <span\n          className={classNames('playhead', { shown: this.state.playheadShown })}\n          ref={n => this.playhead = n} />\n        <SeqeuenceCanvas\n          playlist={this.state.playlist}\n          sequenceSize={this.props.sequenceSize}\n          width={734}\n          height={48} />\n      </div>\n    </li>;\n  }\n}\n\nPlatformSequence.defaultProps = {\n  countDivision: 5,\n  noteLength:    '64n',\n  quantizeTo:    '2n',\n  offset:        0,\n}\n\nclass HelpPopover extends Component {\n  constructor() {\n    super();\n    this.state = { opened: false };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', e => {\n      if (!this.popover.contains(e.target)) {\n        this.setState({ opened: false });\n      }\n    });\n  }\n\n  render() {\n    return <div\n      className={classNames('help-popover', { opened: this.state.opened })}\n      ref={n => this.popover = n}>\n      <span onClick={_ => this.setState({ opened: !this.state.opened })}>?</span>\n      <div className=\"popover\">\n        <h1>What is this?</h1>\n        <p>\n          Sentry echo is a Winter 2017 hack-week project that sprung about from\n          wanting to play with the live data available through <a href=\"http://live.sentry.io\">live.sentry.io</a>.  Echo generates\n          music using the live stream of errors collected by sentry, placing\n          notes onto a sequence using the error timestamp and it's platform.\n        </p>\n        <p>\n          Sentry echo was created by Evan Purkhiser.\n        </p>\n\n        <h1>How does it work?</h1>\n        <p>\n          Errors are collected over the HTTP Message Stream <a\n          href=\"http://live.sentry.io:7000\">live.sentry.io:7000</a> and buffered into\n          platform groups. We then sequence the errors collected over a 4\n          musical bar period onto a scale. We then do some manipulations based\n          on the timestamp of the event to algin them onto the sequence.\n        </p>\n        <p>\n          <img src={howItWorks} />\n        </p>\n        <p>\n          The BPM for each sequence is computed by taking the total number of\n          errors collected during that period, comuputing the rate of errors\n          per second, and dividing that by a constant to get a sane BPM.\n        </p>\n      </div>\n    </div>;\n  }\n}\n\nconst heading = <header>\n  <div className=\"logo\">\n    <h1>Sentry</h1>\n    <h1>Echo</h1>\n  </div>\n  <p>\n    Listen the beautiful soundscape generated by software breaking around the\n    world. Hear the sound of errors — Powered by sentry.io\n  </p>\n</header>;\n\nclass App extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      globalSequenceSize: Tone.Time('4:0:0'),\n      ordering:           lodash.cloneDeep(defaultGrouping),\n\n      bpmDivider:         6,\n      currentBpm:         new Number(0),\n      eventsPerSecond:    new Number(0),\n    };\n\n    this.eventBuffer = lodash.fromPairs(platforms.map(p => [p, []]));\n    this.eventsPerSequence = 0;\n\n    this.starting = this.starting.bind(this);\n    this.recomputeBpm = this.recomputeBpm.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.eventStream.onmessage = this.processEvents.bind(this);\n\n    const start = this.state.globalSequenceSize;\n    Tone.Transport.scheduleOnce(t => Tone.Draw.schedule(this.starting, t), start);\n\n    // The BPM should be updated *just* before any other updates are scheduled\n    const oneTickBack = start.clone().sub('1i')\n    new Tone.Loop(this.recomputeBpm, this.state.globalSequenceSize).start(oneTickBack);\n  }\n\n  processEvents(message) {\n    const [ latitude, longitude, ts, platform ] = JSON.parse(message.data);\n\n    if (this.eventBuffer[platform] === undefined) {\n      return;\n    }\n\n    this.eventsPerSequence++;\n    this.eventBuffer[platform].push(ts);\n  }\n\n  starting() {\n    this.setState({ playing: true  });\n  }\n\n  recomputeBpm(time) {\n    const eventCount = this.eventsPerSequence;\n    this.eventsPerSequence = 0;\n\n    const eventsPerSecond = eventCount / this.state.globalSequenceSize;\n    const currentBpm = eventsPerSecond / this.state.bpmDivider;\n\n    Tone.Draw.schedule(_ => this.setState({ eventsPerSecond, currentBpm }), time);\n\n    // Update the BPM of the transport at the precise time\n    Tone.Transport.bpm.value = currentBpm;\n  }\n\n  render() {\n    const sequencerList = this.state.ordering.map((items, i) => {\n      const heading = <li key={i} className=\"instrument-heading\">\n        {instrumentGroups[i]}\n      </li>;\n\n      const sequencers = items.map((p, j) => <PlatformSequence key={p}\n        { ...groupConfigs[p] }\n        synth={synthBank[i][p]}\n        instrumentIndex={j + 2}\n        sequenceSize={this.state.globalSequenceSize}\n        eventBuffer={this.eventBuffer}\n        platform={p} />);\n\n      return [ heading, sequencers ];\n    })\n\n    const readyClass = { ready: this.state.playing };\n\n    const loader = <span className={classNames('loading-sequence', readyClass)}>\n      Waiting {this.state.globalSequenceSize.toSeconds().toFixed(1) + ' '}\n      seconds for first sequence of events...\n    </span>;\n\n    const bpmClasses = classNames('bpm-indicator', {\n      ready: this.state.playing,\n    });\n\n    const bpmIndicator = <h1 className={classNames('bpm-indicator', readyClass)}>\n      <AnimatedNumber\n        value={this.state.currentBpm}\n        formatValue={n => n.toFixed(2)}\n        duration={600} />\n      <small>BPM</small>\n      <div>\n        {this.state.eventsPerSecond.toFixed(1) + ' '}\n        errors ∕ second ÷ {this.state.bpmDivider}\n      </div>\n    </h1>;\n\n    return <div id=\"sentry_echo\">\n      {heading}\n      <HelpPopover />\n      <div className=\"main-app\">\n        {loader}\n        {bpmIndicator}\n        <ul className=\"sequencers\">{sequencerList}</ul>\n      </div>\n    </div>;\n  }\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","module.exports = __webpack_public_path__ + \"77787333af8eca0b5a2b27444df0a7f9.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/how-it-works.svg\n// module id = ./src/how-it-works.svg\n// module chunks = 1","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./index.scss\";\n\nconst stream = new EventSource(\"https://live.sentry.io/stream\");\n\nReactDOM.render(<App eventStream={stream} />, document.getElementById(\"root\"));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/sass-loader/lib/loader.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.scss\n// module id = ./src/index.scss\n// module chunks = 1"],"sourceRoot":""}